### 16:08 - Define markdown schema for multiple cards [openai/gpt-5-codex]

**User Prompt:**
Define a schema/specification for describing multiple cards in a markdown file. A level 2 heading containing the name, attack/defense and rarity. an image link for the image url

**Issues Encountered:**
- No existing dedicated markdown card schema document was present in `docs/design/`.

**Decisions Made:**
- Added a dedicated design document at `docs/design/card-markdown-schema.md`.
- Defined one strict, repeatable two-line card pattern (`##` heading + image link) to keep parsing and authoring simple.
- Included explicit formatting rules and a multi-card example for implementation clarity.

**Technical Info Consulted:**
- `AGENTS.md`
- `docs/design/datamodel.md`

**Assumptions Made:**
- Rarity values are free-form non-empty strings, with common examples listed.
- Image URLs should be absolute `https://` URLs for reliability across environments.

**Other Notes:**
- The schema is documentation-only and does not yet enforce validation in application code.

### 16:19 - Remove explicit ATK/DEF keywords from card heading schema [openai/gpt-5-codex]

**User Prompt:**
remove the ATK DEF keywords, they should be implied

**Issues Encountered:**
- None.

**Decisions Made:**
- Updated the heading schema to `## <Name> | <Attack>/<Defense> | <Rarity>`.
- Added a rule clarifying positional meaning: first value is attack, second is defense.
- Updated all examples to the compact implied format.

**Technical Info Consulted:**
- `docs/design/card-markdown-schema.md`
- `AGENTS.md`

**Assumptions Made:**
- The slash-separated numeric pair remains unambiguous for both humans and parsers.

**Other Notes:**
- This change preserves all prior information while reducing heading verbosity.

### 16:32 - Add markdown card parser and extend card model metadata [openai/gpt-5-codex]

**User Prompt:**
create a parser and tests for this schema, extend the card model to include image and source file

**Issues Encountered:**
- The markdown schema allows labels like `Epic`, but the runtime rarity model currently only supports `common`, `uncommon`, `rare`, and `legendary`.

**Decisions Made:**
- Added `parseCardsMarkdown(markdown, sourceFile)` to parse multiple card entries from markdown headings and image lines.
- Enforced strict heading and image-line parsing with explicit error messages for malformed entries.
- Added `image` and `sourceFile` as optional fields to the shared `Card` interface and Zod schema.
- Parser output fills gameplay metadata defaults (`types`, `keywords`, `behaviors`) to remain compatible with the existing `Card` model and validators.
- Added dedicated parser unit tests for success cases and validation failures.
- Updated schema docs to list runtime-supported rarity values (`Common`, `Uncommon`, `Rare`, `Legendary`).

**Technical Info Consulted:**
- `docs/design/card-markdown-schema.md`
- `ui/src/shared/models/card.ts`
- `ui/src/shared/models/card.schema.ts`
- `ui/src/shared/models/models.test.ts`
- `AGENTS.md`

**Assumptions Made:**
- Parsed markdown card data should integrate directly with the existing `Card` model shape.
- Card IDs generated from names should be slug-based and de-duplicated deterministically within a file.

**Other Notes:**
- Rarity values outside the current model enum are rejected by the parser and surfaced with line-specific errors.
